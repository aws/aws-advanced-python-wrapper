# Using the AWS Advanced Python Driver

The AWS Advanced Python Driver leverages community Python drivers and enables support of AWS and Aurora functionalities.
Currently, [Psycopg](https://github.com/psycopg/psycopg) and [MySQL Connector/Python](https://github.com/mysql/mysql-connector-python) are supported.

## Using the AWS Advanced Python Driver with plain RDS databases

It is possible to use the AWS Advanced Python Driver with plain RDS databases, but individual features may or may not be compatible. For example, failover handling and enhanced failure monitoring are not compatible with plain RDS databases and the relevant plugins must be disabled. Plugins can be enabled or disabled as seen in the [Connection Plugin Manager Parameters](#connection-plugin-manager-parameters) section. Please note that some plugins have been enabled by default. Plugin compatibility can be verified in the [plugins table](#list-of-available-plugins).

## AWS Advanced Python Driver Parameters

These parameters are applicable to any instance of the AWS Advanced Python Driver.

| Parameter                     | Description                                                                                                                                                                                                                                                                                                                                                                                 | Required | Default Value |
|-------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|---------------|
| wrapper_dialect               | A unique identifier for the supported database dialect.                                                                                                                                                                                                                                                                                                                                     | False    | None          |
| wrapper_target_driver_dialect | A unique identifier for the target driver dialect.                                                                                                                                                                                                                                                                                                                                          | False    | None          |
| auxiliary_query_timeout_sec   | Network timeout, in seconds, used for auxiliary queries to the database. This timeout applies to queries executed by the wrapper driver to gain info about the connected database. It does not apply to queries requested by the driver client.                                                                                                                                             | False    | 5             |
| topology_refresh_ms           | Cluster topology refresh rate in milliseconds. The cached topology for the cluster will be invalidated after the specified time, after which it will be updated during the next interaction with the connection.                                                                                                                                                                            | False    | 30000         |
| cluster_id                    | A unique identifier for the cluster. Connections with the same cluster id share a cluster topology cache. If unspecified, a cluster id is automatically created for AWS RDS clusters.                                                                                                                                                                                                       | False    | None          |
| cluster_instance_host_pattern | The cluster instance DNS pattern that will be used to build a complete instance endpoint. A "?" character in this pattern should be used as a placeholder for cluster instance names. This pattern is required to be specified for IP address or custom domain connections to AWS RDS clusters. Otherwise, if unspecified, the  pattern will be automatically created for AWS RDS clusters. | False    | 30000         |

### Network Timeouts
> TODO


| Parameter                     | Description                                                                                                                                                                                                                                                                                                                                                                                 | Required | Default Value |
|-------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|---------------|
| connect_timeout               | Max number of seconds to wait for a connection to be established before timing out.                                                                                                                                                                                                                                                                                                         | False    | None          |
| socket_timeout                | Max number of seconds to wait for a SQL query to complete before timing out.                                                                                                                                                                                                                                                                                                                | False    | None          |
| tcp_keepalive                 | Enable TCP keepalive functionality.                                                                                                                                                                                                                                                                                                                                                         | False    | None          |
| tcp_keepalive_time            | Number of seconds to wait before sending an initial keepalive probe.                                                                                                                                                                                                                                                                                                                        | False    | None          |
| tcp_keepalive_interval        | Number of seconds to wait before sending additional keepalive probes after the initial probe has been sent.                                                                                                                                                                                                                                                                                 | False    | None          |
| tcp_keepalive_probes          | Number of keepalive probes to send before concluding that the connection is invalid.                                                                                                                                                                                                                                                                                                        | False    | None          |

